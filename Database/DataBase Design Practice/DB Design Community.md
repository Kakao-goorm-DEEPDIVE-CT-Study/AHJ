## 데이터 추출

- 이메일,비밀번호,이름,나이, 제목,내용,해시태그,카테고리,작성자,작성시간,좋아요,조회수, 누가 좋아요를 눌렀는지, 어떤 게시글에 좋아요를 눌렀는지, 팔로우,팔로우수,누가 팔로우를 했는 지, 누가 팔로우를 받았는지, 신고사유,누가 신고를 했는지, 신고한 게시글은 어떤건지

## 그룹핑

- 사용자
  - 이메일,비밀번호,이름,나이
- 게시글
  - 제목,내용,해시태그,카테고리,작성자,작성시간,좋아요,조회수, 누가 좋아요를 눌렀는지, 어떤 게시글에 좋아요를 눌렀는지
- 팔로우
  - 팔로우,팔로우수,누가 팔로우를 했는 지, 누가 팔로우를 받았는지
- 신고
  - 신고사유,누가 신고를 했는지, 신고한 게시글은 어떤건지

## 테이블 생성

- 사용자
  | id  | 이메일 | 비밀번호 | 이름 | 나이 |
  | --- | ------ | -------- | ---- | ---- |
  |     |        |          |      |      |
- 게시글
  | id  | 게시글 제목 | 게시글 내용 | 게시글 해시테그 | 게시글 카테고리 | 게시글 작성자 |
  | --- | ----------- | ----------- | --------------- | --------------- | ------------- |
  |     |             |             |                 |                 |               |
  | 게시글 작성시간 | 좋아요 수 | 조회 수 | 누가 좋아요를 눌렀는 지 | 어떤 게시글에 좋아요를 눌렀는지 |
  | --------------- | --------- | ------- | ----------------------- | ------------------------------- |
  |                 |           |         |                         |                                 |
- 팔로우
  | id  | 팔로우 수 | 누가 팔로우를 했는 지 | 누가 팔로우를 받았는 지 |
  | --- | --------- | --------------------- | ----------------------- |
  |     |           |                       |                         |
- 신고
  | id  | 누가 신고를 했는지 | 신고사유 | 신고한 게시글은 어떤 건지 |
  | --- | ------------------ | -------- | ------------------------- |
  |     |                    |          |                           |

## 데이터를 넣어 중복 확인

- 사용자
  | id  | 이메일        | 비밀번호 | 이름   | 나이 |
  | --- | ------------- | -------- | ------ | ---- |
  | 1   | abc@naver.com | abc123   | 홍길동 | 20   |
  | 2   | cde@naver.com | abc123   | 홍길동 | 20   |
  | 3   | efg@naver.com | abc123   | 홍길동 | 20   |
  - 비밀번호, 이름, 나이는 중복이 되어도 상관없는 가짜 중복
    - 하나의 비밀번호, 이름, 나이를 변경하더라도 다른 비밀번호, 이름, 나이를 변경하지 않아도 됨
- 게시글
  | id  | 게시글 제목 | 게시글 내용 | 게시글 해시테그         | 게시글 카테고리 | 게시글 작성자 |
  | --- | ----------- | ----------- | ----------------------- | --------------- | ------------- |
  | 1   | 코딩테스트  | 자바        | #Java,#Coding           | 개발            | 홍길동        |
  | 2   | 포트폴리오  | 스프링      | #Spring,#Backend, #Java | 개발            | 홍길동        |
  | 3   | 면접        | 면접        | #Interview, #BackEnd    | 면접            | 김길동        |
  | 게시글 작성시간 | 좋아요 수 | 조회 수 | 누가 좋아요를 눌렀는 지 | 어떤 게시글에 좋아요를 눌렀는지 |
  | --------------- | --------- | ------- | ----------------------- | ------------------------------- |
  | 16:00           | 2         | 2       | 1, 2                    | 코딩테스트, 포트폴리오,면접     |
  | 16:30           | 2         | 2       | 1, 2                    | 코딩테스트, 포트폴리오,면접     |
  | 16:00           | 3         | 3       | 1, 2, 3                 | 코딩테스트, 포트폴리오,면접     |
  - 제목, 내용, 카테고리, 게시글 작성시간, 좋아요 수, 조회수, 누가 좋아요를 눌렀는지
    - 가짜 중복
  - 해시태그 : 하나의 정보만 들어가야 한다(규칙1)를 위반
    잘못된 테이블
    - **해시태그**
      - 게시글 테이블이 아직도 규칙1을 위반
      | id  | 이름      |
      | --- | --------- |
      | 1   | Java      |
      | 2   | Coding    |
      | 3   | Spring    |
      | 4   | Backend   |
      | 5   | Interview |
    FK 이동
    - **해시태그**
      - 규칙 1을 위반
      | id  | 이름      | 게시글 |
      | --- | --------- | ------ |
      | 1   | Java      | 1,2    |
      | 2   | Coding    | 1      |
      | 3   | Spring    | 2      |
      | 4   | Backend   | 2,3    |
      | 5   | Interview | 3      |
    중간 테이블 생성
    | id  | post_id | hashtag_id |
    | --- | ------- | ---------- |
    | 1   | 1       | 1          |
    | 2   | 1       | 2          |
    | 3   | 2       | 1          |
    | 4   | 2       | 3          |
    | 5   | 2       | 4          |
    | 6   | 3       | 4          |
    | 7   | 3       | 5          |
  - 카테고리 : 진짜 중복
    - 하나의 게시글은 하나의 카테고리를 가진다
    - 하나의 카테고리는 여러개의 게시글을 가진다
    - 게시글 : 카테고리 = N : 1
      - 게시글 테이블에 FK 넣기
    | id  | 카테고리명 |
    | --- | ---------- |
    | 1   | 개발       |
    | 2   | 면접       |
  - 작성자 : 진짜 중복
    - 하나의 게시글은 하나의 작성자에 의해 작성된다
    - 하나의 작성자는 여러개의 게시글을 작성한다
    - 게시글 : 작성자 = N : 1
      - 게시글 테이블에 FK 넣기
  - 좋아요 수
    - 좋아요 테이블에서 집계가능하기에 삭제
  - 조회 수
    - 단순히 조회 수만 집계한다면 같은 사용자가 2번 이상 조회한 경우에도 조회수가 누적됨
      | id  | 누가 조회를 했는지(FK) | 어떤 게시글을 조회했는지(FK) |
      | --- | ---------------------- | ---------------------------- |
      | 1   | 1                      | 2                            |
      | 2   | 1                      | 3                            |
      | 3   | 2                      | 1                            |
      | 4   | 2                      | 3                            |
      | 5   | 3                      | 1                            |
      | 6   | 3                      | 2                            |
      | 7   | 3                      | 3                            |
  - 누가 좋아요를 눌렀는 지 : 규칙1 위반
    - 하나의 게시글은 여러명이 좋아요를 달 수 있다
    - 한명의 좋아요는 여러 게시글에 달 수 있다
    | id  | 게시글 id(FK) | 누가 좋아요를 눌렀는지(FK) |
    | --- | ------------- | -------------------------- |
    | 1   | 1             | 1                          |
    | 2   | 1             | 2                          |
    | 3   | 2             | 1                          |
    | 4   | 2             | 2                          |
    | 5   | 3             | 1                          |
    | 6   | 3             | 2                          |
    | 7   | 3             | 3                          |
  - 어떤 게시글에 좋아요를 눌렀는지 : 테이블에 안맞기에 삭제
- 팔로우
  - ex) id1 : 1번이 2번을 팔로우
  - 팔로우 수 : count하여 추출
  | id  | 누가 팔로우를 했는 지(FK) | 누구를 팔로우를 했는 지(FK) |
  | --- | ------------------------- | --------------------------- |
  | 1   | 1                         | 2                           |
  | 2   | 1                         | 3                           |
  | 3   | 2                         | 2                           |
- 신고
  | id  | 누가 신고를 했는지(FK) | 신고사유 | 신고한 게시글은 어떤 건지(FK) |
  | --- | ---------------------- | -------- | ----------------------------- |
  | 1   | 1                      | 욕설     | 1                             |
  | 2   | 1                      | 욕설     | 1                             |
  | 3   | 2                      | 허위사실 | 3                             |
  - 신고사유 :
    - 카테고리를 지정하는 방식이면 진짜 중복
    - 사용자가 작성하는 방식이면 가짜 중복

## 최종 테이블

- 사용자
  | id  | 이메일 | 비밀번호 | 이름 | 나이 |
  | --- | ------ | -------- | ---- | ---- |
  |     |        |          |      |      |
- 게시글
  | id  | 게시글 제목 | 게시글 내용 | 카테고리(FK) | 작성자(FK) |
  | --- | ----------- | ----------- | ------------ | ---------- |
  |     |             |             |              |            |
  | 게시글 작성시간 |
  | --------------- |
  |                 |
- 해시태그
  | id  | 이름 |
  | --- | ---- |
  |     |      |
- 해시태그\_게시글
  | id  | post_id(FK) | hashtag_id |
  | --- | ----------- | ---------- |
  |     |             |            |
- 좋아요
  | id  | 게시글 id(FK) | 누가 좋아요를 눌렀는지(FK) |
  | --- | ------------- | -------------------------- |
  |     |               |                            |
- 조회
  | id  | 게시글 id(FK) | 누가 좋아요를 눌렀는지(FK) |
  | --- | ------------- | -------------------------- |
  |     |               |                            |
- 팔로우
  | id  | 누가 팔로우를 했는 지(FK) | 누구를 팔로우를 했는 지(FK) |
  | --- | ------------------------- | --------------------------- |
  |     |                           |                             |
- 신고
  | id  | 누가 신고를 했는지(FK) | 신고사유 | 신고한 게시글은 어떤 건지(FK) |
  | --- | ---------------------- | -------- | ----------------------------- |
  |     |                        |          |                               |
