## 1. 정규화(Normalization)

- 데이터 중복을 최소화하고 데이터 무결성을 보장하기 위함
- **장점 :**
  - DB 변경시 이상현상 제거
    - 갱신, 삽입, 삭제 이상현상 제거
  - 저장 공간 최소화
    - 중복된 데이터가 제거되기에 데이터 크기가 줄어듬
  - 데이터 구조의 안정성, 무결성 유지
    - 테이블간 종속 관계를 명확히 정의하여 데이터 무결성이 보장됨
  - 데이터 삽입, 삭제, 수정시 테이블 재구성 필요성 감소
    - FK를 통해 자동으로 수행되기에 필요성이 감소
- **단점 :**
  - JOIN연산 증가로 인해 응답 시간 증가
    - JOIN연산 자체의 문제가 아닌 설계, 최적화의 문제이기에 JOIN을 사용하되 설계,최적화가 중요
    - index, where 순서조정등으로 해결

1. 비정규 데이터

   | 학번  | 학생이름 | 학과       | 과목코드 | 과목명       |
   | ----- | -------- | ---------- | -------- | ------------ |
   | 10101 | 김철수   | 컴퓨터공학 | C101     | 데이터베이스 |
   | 10102 | 박영희   | 전자공학   | E201     | 회로이론     |

   | 교수명 | 강의실 | 교시              | 성적 |
   | ------ | ------ | ----------------- | ---- |
   | 이교수 | 201호  | 1교시,2교시,3교시 | A    |
   | 박교수 | 301호  | 1교시             | B+   |

2. 제1정규화

   - 모든 속성은 반드시 하나의 값(원자값)을 가져야 한다.
     - 한 열(속성)에는 1개의 값이 있어야 하기에 2개 이상의 값이 들어가 있는 열을 분리

   | 학번  | 학생이름 | 학과       | 과목코드 | 과목명       |
   | ----- | -------- | ---------- | -------- | ------------ |
   | 10101 | 김철수   | 컴퓨터공학 | C101     | 데이터베이스 |
   | 10101 | 김철수   | 컴퓨터공학 | C101     | 데이터베이스 |
   | 10101 | 김철수   | 컴퓨터공학 | C101     | 데이터베이스 |
   | 10102 | 박영희   | 전자공학   | E201     | 회로이론     |

   | 교수명 | 강의실 | 교시  | 성적 |
   | ------ | ------ | ----- | ---- |
   | 이교수 | 201호  | 1교시 | A    |
   | 이교수 | 201호  | 2교시 | A    |
   | 이교수 | 201호  | 3교시 | A    |
   | 박교수 | 301호  | 1교시 | B+   |

3. 제2정규화
   - 제1정규화를 만족한 테이블에 대해서 완전 함수 종속을 만족하도록 테이블을 분리
   - 부분 종속 제거
     - **부분 종속 :** 테이블이 복합키를 사용할때 각 속성이 하나의 키에만 종속하는 경우
       - 복합키 : 학번 + 과목코드 + 교시
         - 학번 : 학생이름, 학과
           - 학번은 고유 식별자로 학생이름을 결정함(조회 가능함)
             - == 학생이름은 학번에 종속됨
             - == 학번이 같으면 학생이름이 같음
         - 과목코드 : 과목명, 교수명
           - 과목코드는 고유 식별자로 과목명을 결정함(조회 가능함)
             - == 과목명은 과목코드에 종속됨
             - == 과목코드가 같으면 과목명이 같음
           - 과목코드는 고유 식별자로 교수명을 결정함(조회 가능함)
             - == 교수명은 과목코드에 종속됨
             - == 과목코드가 같으면 교수명이 같음
         - (과목코드 + 교시) : 강의실
           - 복합키는 고유 식별자로 강의실을 결정함(조회 가능함)
             - == 강의실은 복합키에 종속됨
             - == 복합키가 같으면 강의실이 같음
         - (학번 + 과목코드 + 교시) : 성적
           - 복합키는 고유 식별자로 성적을 결정함(조회 가능함)
             - == 성적은 복합키에 종속됨
             - == 복합키가 같으면 성적이 같음
     - **학생 테이블** (학번에 종속된 속성만 유지)
       | 학번 | 학생이름 | 학과 |
       | ----- | -------- | ---------- |
       | 10101 | 김철수 | 컴퓨터공학 |
       | 10102 | 박영희 | 전자공학 |
     - **과목 테이블** (과목코드에 종속된 속성만 유지)
       | 과목코드 | 과목명 | 교수명 |
       | -------- | ------------ | ------ |
       | C101 | 데이터베이스 | 이교수 |
       | E201 | 회로이론 | 박교수 |
     - **수강 테이블** (학생과 강의의 관계만 유지)
       | 학번 | 과목코드 | 교시 | 성적 | 강의실 |
       | ----- | -------- | ----- | ---- | ------ |
       | 10101 | C101 | 1교시 | A | 201호 |
       | 10101 | C101 | 2교시 | A | 201호 |
       | 10101 | C101 | 3교시 | A | 201호 |
       | 10102 | E201 | 1교시 | B+ | 301호 |
4. 제3정규화
   - 제2정규화를 만족한 테이블에서 이행 종속 제거하도록 테이블을 분리
     - **이행 종속 : (**A → B) & (B → C) ⇒ (A → C)
       - C는 A에 이행적으로 종속 되어 있다
       - 과목코드 → 과목명 & 과목코드 → 교수명
       - **학생 테이블** (학번에 종속된 속성만 유지)
         | 학번 | 학생이름 | 학과 |
         | ----- | -------- | ---------- |
         | 10101 | 김철수 | 컴퓨터공학 |
         | 10102 | 박영희 | 전자공학 |
       - **과목 테이블** (과목코드에 종속된 속성만 유지)
         | 과목코드 | 과목명 | 교수코드 |
         | -------- | ------------ | -------- |
         | C101 | 데이터베이스 | P001 |
         | E201 | 회로이론 | P002 |
       - **교수 테이블** (교수코드에 종속된 속성만 유지)
         | 교수코드 | 교수명 |
         | -------- | ------ |
         | P001 | 이교수 |
         | P002 | 박교수 |
       - **수강 테이블** (학생과 강의의 관계만 유지)
         | 학번 | 과목코드 | 교시 | 성적 | 강의실 |
         | ----- | -------- | ----- | ---- | ------ |
         | 10101 | C101 | 1교시 | A | 201호 |
         | 10101 | C101 | 2교시 | A | 201호 |
         | 10101 | C101 | 3교시 | A | 201호 |
         | 10102 | E201 | 1교시 | B+ | 301호 |
5. BCNF
   - 모든 결정자가 후보 키가 되어야 함
   - **결정자 :** 다른 속성을 결정하는 속성
     - 수강 테이블의 (학번 + 과목코드 + 교시)는 강의실을 결정함(조회 가능함)
       - == 결정자가 후보키임
     - 수강 테이블의 (학번 + 과목코드)는 성적을 결정함(조회 가능함)
       - (학번 + 과목코드)는 결정자이지만 후보키가 아니기에 테이블을 분리해야 함
     - **학생 테이블** (학번에 종속된 속성만 유지)
       | 학번 | 학생이름 | 학과 |
       | ----- | -------- | ---------- |
       | 10101 | 김철수 | 컴퓨터공학 |
       | 10102 | 박영희 | 전자공학 |
     - **과목 테이블** (과목코드에 종속된 속성만 유지)
       | 과목코드 | 과목명 | 교수코드 |
       | -------- | ------------ | -------- |
       | C101 | 데이터베이스 | P001 |
       | E201 | 회로이론 | P002 |
     - **교수 테이블** (교수코드에 종속된 속성만 유지)
       | 교수코드 | 교수명 |
       | -------- | ------ |
       | P001 | 이교수 |
       | P002 | 박교수 |
     - **수강 테이블** (학번, 과목코드에 종속된 속성만 유지)
       | 학번 | 과목코드 | 성적 |
       | ----- | -------- | ---- |
       | 10101 | C101 | A |
       | 10101 | C101 | A |
       | 10101 | C101 | A |
       | 10102 | E201 | B+ |
     - **강의시간 테이블**(과목코드, 교시에 종속된 속성만 유지)
       | 과목코드 | 교시 | 강의실 |
       | -------- | ----- | ------ |
       | C101 | 1교시 | 201호 |
       | C101 | 2교시 | 201호 |
       | C101 | 3교시 | 201호 |
       | E201 | 1교시 | 301호 |
